import{h as d,E as R,r as h,F as x,o as D,a as b,b as w,w as F,c as v,d as V,e as k,f as q,g as E,t as T,u as c,i as W,j as B,k as K}from"./index-BOfBxUgm.js";const S={props:["currentItem","formModel","formRules","dynamicData"],setup(n){function r(e){return e.__vModel__?{modelValue:n.formModel[e.__vModel__],"onUpdate:modelValue"(t){n.formModel[e.__vModel__]=t}}:{}}function l(e,t){const a=()=>{const{required:p,showLabel:L}=e.__config__;let{label:M,labelWidth:g}=e.__config__;return g=g?g+"px":null,L===!1&&(g="0",M=""),{labelWidth:g,label:M,required:p,prop:e.__vModel__}};let o;t==="rawItem"?o=y(e,!0):t==="fixedItem"?o=m(e,!0):o="error layout!";const i=d(R,{...a()},d(o,null));return d(i,null)}function f(e){let t,a;e.__config__.tag==="el-form"&&(t=n.formModel,a=n.formRules);const{tag:o}=e.__config__;return d(h(o),{...e.__props__,...e.__native__,...r(e),model:t,rules:a},_(e))}function _(e,t){let a={};for(const o in e.__slots__)if(!(t&&o==="default")){if(typeof e.__slots__[o]=="string"){a[o]=()=>e.__slots__[o];continue}e.__slots__[o].length!==0&&(a[o]=()=>e.__slots__[o].map(i=>s(i)))}return a}function u(e){const t=e.__data__;let a={};if(t){const{name:o,source:i}=t;if(i==="static")a[o]=t.static[o];else{const p=e.__refs__[o];t.dynamic.dataKey?a[o]=n.dynamicData[p]&&n.dynamicData[p][t.dynamic.dataKey]||[]:a[o]=n.dynamicData[p]||[]}}return{__data__:a}}function m(e,t){let a={...e,...u(e)};return t?d(x,{conf:a,...r(e)}):d(x,{conf:a,...r(e)})}function y(e,t){const{tag:a}=e.__config__,o=u(e).__data__;return t?d(h(a),{...e.__props__,...e.__native__,...o,...r(e)},_(e)):d(h(a),{...e.__props__,...e.__native__,...o,...r(e)},_(e))}function s(e){if(typeof e=="string")return d("span",e);const{layout:t,wrapWithFormItem:a}=e.__config__;if(a)return l(e,t);if(t==="containerItem")return f(e);if(t==="rawItem")return y(e);if(t==="fixedItem")return m(e)}return()=>s(n.currentItem)}},$={__name:"Render",props:{drawItemList:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(n,{emit:r}){const l=n,f=r;D(()=>{m(l.drawItemList),console.info(_),f("update:modelValue",_)});const _=b({}),u=b({});function m(s){for(const e of s)if(typeof e!="string"){if(e.__config__.wrapWithFormItem&&e.__vModel__){const{__config__:t}=e;_.value[e.__vModel__]=l.modelValue&&l.modelValue[e.__vModel__]||t.defaultValue;const a=y(e);a.length>0&&(u.value[e.__vModel__]=a)}Array.isArray(e.__slots__&&e.__slots__.default)&&m(e.__slots__.default)}}function y(s){const e=[],{__config__:t,__props__:a}=s;if(w[t.tag]){if(t.required){const o=Array.isArray(t.defaultValue)?"array":t.defaultValueType;let i=Array.isArray(t.defaultValue)?`请至少选择一个${t.label}`:a&&a.placeholder||"";i===void 0&&(i=`${t.label}不能为空`),e.push({required:!0,type:o,message:i,trigger:w[t.tag]})}t.regList&&Array.isArray(t.regList)&&t.regList.forEach(o=>{o.pattern&&e.push({pattern:new RegExp(o.pattern),message:o.message,trigger:w[t.tag]})})}return e}return F(_,s=>{f("update:modelValue",s)},{deep:!0}),(s,e)=>(v(),V(k,null,[(v(!0),V(k,null,q(n.drawItemList,t=>(v(),W(c(S),{"current-item":t,"form-model":c(_),"form-rules":c(u)},null,8,["current-item","form-model","form-rules"]))),256)),E(" "+T(c(_)),1)],64))}},A=[{__config__:{defaultValue:[],wrapWithFormItem:!1,optionType:"default",border:!1,tag:"el-checkbox-group",layout:"fixedItem",label:"多选框组"},__vModel__:"checkboxGroup101",__native__:{class:"23daa",title:"请输入！"},__refs__:{options:"checkboxGroup101Options"},__data__:{name:"options",source:"static",dynamic:{ref:!0,url:"https://www.fastmock.site/mock/c9e1a1c3cefb84da4306dcf9fadde652/ele-plus-desinger/options",method:"get",dataKey:"list"},static:{ref:!0,options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]}}}],j={style:{padding:"20px"}},N={__name:"index",setup(n){const r=b(A),l=b(A);return F(l,f=>{console.info(f)},{deep:!0}),(f,_)=>(v(),V("div",j,[B($,{"draw-item-list":c(r),modelValue:c(l),"onUpdate:modelValue":_[0]||(_[0]=u=>K(l)?l.value=u:null)},null,8,["draw-item-list","modelValue"])]))}};export{N as default};
